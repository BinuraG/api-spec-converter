{
  "project": {
    "name": "Test Project",
    "description": "",
    "environment": {
      "forwardHost": "http://localhost:3000",
      "basePath": "",
      "defaultResponseType": "application/json",
      "defaultRequestType": "application/json",
      "protocols": [
        "http",
        "https",
        "ws"
      ],
      "version": "1.0.0",
      "middlewareBefore": "",
      "middlewareAfter": "",
      "proxy": {}
    },
    "endpoints": [
      {
        "_id": null,
        "name": "deletePetPhoto",
        "description": "Deletes a pet photo",
        "summary": "",
        "request": {
          "method": "delete",
          "path": "/pets/{petName}/photos/{id}",
          "pathParams": {
            "id": {
              "type": "integer",
              "description": "The ID of the photo"
            }
          },
          "headers": "{\"type\":\"object\",\"properties\":{},\"required\":[]}",
          "queryString": "{\"type\":\"object\",\"properties\":{},\"required\":[]}",
          "bodies": [
            {
              "mimeType": "application/json",
              "body": "{\"properties\":{}}",
              "example": ""
            }
          ]
        },
        "responses": [
          {
            "mimeType": "application/json",
            "codes": [
              400
            ],
            "headers": "{\n  \"type\": \"object\",\n  \"properties\": {}\n}",
            "body": "{}",
            "example": "",
            "description": "The photo was deleted successfully"
          }
        ],
        "middlewareBefore": "",
        "middlewareAfter": "",
        "mock": {
          "enabled": null,
          "statusCode": null
        },
        "securedBy": {
          "none": true
        }
      },
      {
        "_id": null,
        "name": "",
        "description": "Get a list of the photos for a pet",
        "summary": "",
        "request": {
          "method": "get",
          "path": "/pets/{petName}/photos",
          "pathParams": {},
          "headers": "{\"type\":\"object\",\"properties\":{},\"required\":[]}",
          "queryString": "{\"type\":\"object\",\"properties\":{},\"required\":[]}",
          "bodies": [
            {
              "mimeType": "application/json",
              "body": "{\"properties\":{}}",
              "example": ""
            }
          ]
        },
        "responses": [
          {
            "mimeType": "application/json",
            "codes": [
              200
            ],
            "headers": "{\n  \"type\": \"object\",\n  \"properties\": {}\n}",
            "body": "{\"type\":\"array\",\"items\":{\"properties\":{\"id\":{\"type\":\"integer\",\"format\":\"int32\",\"description\":\"The auto-generated photo ID\"},\"label\":{\"type\":\"string\"},\"description\":{\"type\":\"string\"},\"photo\":{\"description\":\"Information about the photo (size, file name, etc.)\"}}}}",
            "example": "",
            "description": "Returns the list of photos"
          }
        ],
        "middlewareBefore": "",
        "middlewareAfter": "",
        "mock": {
          "enabled": null,
          "statusCode": null
        },
        "securedBy": {
          "none": true
        }
      },
      {
        "_id": null,
        "name": "addPetPhoto",
        "description": "Upload a new pet photo",
        "summary": "",
        "request": {
          "method": "post",
          "path": "/pets/{petName}/photos",
          "pathParams": {},
          "headers": "{\"type\":\"object\",\"properties\":{},\"required\":[]}",
          "queryString": "{\"type\":\"object\",\"properties\":{},\"required\":[]}",
          "bodies": [
            {
              "mimeType": "multipart/form-data",
              "body": "{\"properties\":{\"id\":{\"description\":\"The photo ID (generated automatically)\",\"type\":\"integer\"},\"label\":{\"description\":\"A label for the photo\",\"type\":\"string\"},\"description\":{\"description\":\"An optional description of the photo\",\"type\":\"string\"},\"photo\":{\"description\":\"The pet photo\",\"type\":\"file\"}},\"required\":[\"label\",\"photo\"]}",
              "example": ""
            }
          ]
        },
        "responses": [
          {
            "mimeType": "application/json",
            "codes": [
              400
            ],
            "headers": "{\n  \"type\": \"object\",\n  \"properties\": {}\n}",
            "body": "{\"properties\":{\"id\":{\"type\":\"integer\",\"format\":\"int32\",\"description\":\"The auto-generated photo ID\"},\"label\":{\"type\":\"string\"},\"description\":{\"type\":\"string\"},\"photo\":{\"description\":\"Information about the photo (size, file name, etc.)\"}}}",
            "example": "",
            "description": "Returns the photo information"
          }
        ],
        "middlewareBefore": "",
        "middlewareAfter": "",
        "mock": {
          "enabled": null,
          "statusCode": null
        },
        "securedBy": {
          "none": true
        }
      },
      {
        "_id": null,
        "name": "deletePets",
        "description": "Deletes all pets, optionally filtered by one or more criteria",
        "summary": "",
        "request": {
          "method": "delete",
          "path": "/pets",
          "pathParams": {},
          "headers": "{\"type\":\"object\",\"properties\":{\"token\":{\"type\":\"string\",\"description\":\"\"}},\"required\":[\"token\"]}",
          "queryString": "{\"type\":\"object\",\"properties\":{\"tags\":{\"type\":\"array\",\"description\":\"Filters pets by one or more tags\",\"items\":{\"type\":\"string\"}},\"type\":{\"type\":\"string\",\"description\":\"Filters pets by type (dog, cat, or bird)\"},\"age\":{\"type\":\"integer\",\"description\":\"Filters pets by age\"},\"dob\":{\"type\":\"string\",\"description\":\"Filters pets by date of birth\"},\"address.city\":{\"type\":\"string\",\"description\":\"Filters pets by city\"},\"address.state\":{\"type\":\"string\",\"description\":\"Filters pets by state\"},\"address.zipcode\":{\"type\":\"integer\",\"description\":\"Filters pets by zip code\"},\"vet.name\":{\"type\":\"string\",\"description\":\"Filters pets by veterinarian name\"},\"vet.address.city\":{\"type\":\"string\",\"description\":\"Filters pets by veterinarian city\"},\"vet.address.state\":{\"type\":\"string\",\"description\":\"Filters pets by veterinarian state\"},\"vet.address.zipcode\":{\"type\":\"integer\",\"description\":\"Filters pets by veterinarian zip code\"}},\"required\":[\"age\"]}",
          "bodies": [
            {
              "mimeType": "application/json",
              "body": "{\"properties\":{}}",
              "example": ""
            }
          ]
        },
        "responses": [
          {
            "mimeType": "application/json",
            "codes": [
              400
            ],
            "headers": "{\n  \"type\": \"object\",\n  \"properties\": {}\n}",
            "body": "{\"type\":\"array\",\"items\":{\"$ref\":\"#/definitions/pet\"}}",
            "example": "",
            "description": "Returns the pets that were deleted"
          }
        ],
        "middlewareBefore": "",
        "middlewareAfter": "",
        "mock": {
          "enabled": null,
          "statusCode": null
        },
        "securedBy": {
          "none": true
        }
      },
      {
        "_id": null,
        "name": "getPetPhoto",
        "description": "Gets a pet photo",
        "summary": "",
        "request": {
          "method": "get",
          "path": "/pets/{petName}/photos/{id}",
          "pathParams": {
            "id": {
              "type": "integer",
              "description": "The ID of the photo"
            }
          },
          "headers": "{\"type\":\"object\",\"properties\":{},\"required\":[]}",
          "queryString": "{\"type\":\"object\",\"properties\":{},\"required\":[]}",
          "bodies": [
            {
              "mimeType": "application/json",
              "body": "{\"properties\":{}}",
              "example": ""
            }
          ]
        },
        "responses": [
          {
            "mimeType": "image/jpeg",
            "codes": [
              400
            ],
            "headers": "{\n  \"type\": \"object\",\n  \"properties\": {}\n}",
            "body": "{\"type\":\"file\"}",
            "example": "",
            "description": "Returns the pet photo"
          }
        ],
        "middlewareBefore": "",
        "middlewareAfter": "",
        "mock": {
          "enabled": null,
          "statusCode": null
        },
        "securedBy": {
          "none": true
        }
      },
      {
        "_id": null,
        "name": "findPets",
        "description": "Returns all pets, optionally filtered by one or more criteria",
        "summary": "",
        "request": {
          "method": "get",
          "path": "/pets",
          "pathParams": {},
          "headers": "{\"type\":\"object\",\"properties\":{\"token\":{\"type\":\"string\",\"description\":\"\"}},\"required\":[\"token\"]}",
          "queryString": "{\"type\":\"object\",\"properties\":{\"tags\":{\"type\":\"array\",\"description\":\"Filters pets by one or more tags\",\"items\":{\"type\":\"string\"}},\"type\":{\"type\":\"string\",\"description\":\"Filters pets by type (dog, cat, or bird)\"},\"age\":{\"type\":\"integer\",\"description\":\"Filters pets by age\"},\"dob\":{\"type\":\"string\",\"description\":\"Filters pets by date of birth\"},\"address.city\":{\"type\":\"string\",\"description\":\"Filters pets by city\"},\"address.state\":{\"type\":\"string\",\"description\":\"Filters pets by state\"},\"address.zipcode\":{\"type\":\"integer\",\"description\":\"Filters pets by zip code\"},\"vet.name\":{\"type\":\"string\",\"description\":\"Filters pets by veterinarian name\"},\"vet.address.city\":{\"type\":\"string\",\"description\":\"Filters pets by veterinarian city\"},\"vet.address.state\":{\"type\":\"string\",\"description\":\"Filters pets by veterinarian state\"},\"vet.address.zipcode\":{\"type\":\"integer\",\"description\":\"Filters pets by veterinarian zip code\"}},\"required\":[\"age\"]}",
          "bodies": [
            {
              "mimeType": "application/json",
              "body": "{\"properties\":{}}",
              "example": ""
            }
          ]
        },
        "responses": [
          {
            "mimeType": "application/json",
            "codes": [
              400
            ],
            "headers": "{\n  \"type\": \"object\",\n  \"properties\": {}\n}",
            "body": "{\"type\":\"array\",\"items\":{\"$ref\":\"#/definitions/pet\"}}",
            "example": "",
            "description": "Returns the matching pets"
          }
        ],
        "middlewareBefore": "",
        "middlewareAfter": "",
        "mock": {
          "enabled": null,
          "statusCode": null
        },
        "securedBy": {
          "none": true
        }
      },
      {
        "_id": null,
        "name": "",
        "description": "Updates a pet by name",
        "summary": "",
        "request": {
          "method": "patch",
          "path": "/pets/{petName}",
          "pathParams": {},
          "headers": "{\"type\":\"object\",\"properties\":{},\"required\":[]}",
          "queryString": "{\"type\":\"object\",\"properties\":{},\"required\":[]}",
          "bodies": [
            {
              "mimeType": "application/json",
              "body": "{\"properties\":{\"pet\":{\"description\":\"The updated pet info\",\"schema\":{\"$ref\":\"#/definitions/pet\"}}},\"required\":[\"pet\"]}",
              "example": ""
            }
          ]
        },
        "responses": [
          {
            "mimeType": "application/json",
            "codes": [
              400
            ],
            "headers": "{\n  \"type\": \"object\",\n  \"properties\": {}\n}",
            "body": "{\"$ref\":\"#/definitions/pet\"}",
            "example": "",
            "description": "Returns the updated pet data"
          }
        ],
        "middlewareBefore": "",
        "middlewareAfter": "",
        "mock": {
          "enabled": null,
          "statusCode": null
        },
        "securedBy": {
          "none": true
        }
      },
      {
        "_id": null,
        "name": "deletePet",
        "description": "Deletes a single pet based on the name supplied",
        "summary": "",
        "request": {
          "method": "delete",
          "path": "/pets/{petName}",
          "pathParams": {},
          "headers": "{\"type\":\"object\",\"properties\":{},\"required\":[]}",
          "queryString": "{\"type\":\"object\",\"properties\":{},\"required\":[]}",
          "bodies": [
            {
              "mimeType": "application/json",
              "body": "{\"properties\":{}}",
              "example": ""
            }
          ]
        },
        "responses": [
          {
            "mimeType": "application/json",
            "codes": [
              400
            ],
            "headers": "{\n  \"type\": \"object\",\n  \"properties\": {}\n}",
            "body": "{\"$ref\":\"#/definitions/pet\"}",
            "example": "",
            "description": "Returns the pet that was deleted"
          }
        ],
        "middlewareBefore": "",
        "middlewareAfter": "",
        "mock": {
          "enabled": null,
          "statusCode": null
        },
        "securedBy": {
          "none": true
        }
      },
      {
        "_id": null,
        "name": "findPetByName",
        "description": "Returns a pet by name",
        "summary": "",
        "request": {
          "method": "get",
          "path": "/pets/{petName}",
          "pathParams": {},
          "headers": "{\"type\":\"object\",\"properties\":{},\"required\":[]}",
          "queryString": "{\"type\":\"object\",\"properties\":{},\"required\":[]}",
          "bodies": [
            {
              "mimeType": "application/json",
              "body": "{\"properties\":{}}",
              "example": ""
            }
          ]
        },
        "responses": [
          {
            "mimeType": "application/json",
            "codes": [
              400
            ],
            "headers": "{\n  \"type\": \"object\",\n  \"properties\": {}\n}",
            "body": "{\"$ref\":\"#/definitions/pet\"}",
            "example": "",
            "description": "Returns the pet data"
          }
        ],
        "middlewareBefore": "",
        "middlewareAfter": "",
        "mock": {
          "enabled": null,
          "statusCode": null
        },
        "securedBy": {
          "none": true
        }
      },
      {
        "_id": null,
        "name": "addPet",
        "description": "Creates a new pet in the store",
        "summary": "",
        "request": {
          "method": "post",
          "path": "/pets",
          "pathParams": {},
          "headers": "{\"type\":\"object\",\"properties\":{},\"required\":[]}",
          "queryString": "{\"type\":\"object\",\"properties\":{},\"required\":[]}",
          "bodies": [
            {
              "mimeType": "application/json",
              "body": "{\"properties\":{\"pet\":{\"description\":\"The pet to add to the store\",\"schema\":{\"$ref\":\"#/definitions/pet\"}}},\"required\":[\"pet\"]}",
              "example": ""
            }
          ]
        },
        "responses": [
          {
            "mimeType": "application/json",
            "codes": [
              201
            ],
            "headers": "{\n  \"type\": \"object\",\n  \"properties\": {}\n}",
            "body": "{\"$ref\":\"#/definitions/pet\"}",
            "example": "",
            "description": "Returns the newly-added pet"
          }
        ],
        "middlewareBefore": "",
        "middlewareAfter": "",
        "mock": {
          "enabled": null,
          "statusCode": null
        },
        "securedBy": {
          "none": true
        }
      }
    ],
    "schemas": [
      {
        "name": "address",
        "namespace": "address",
        "definition": "{\"properties\":{\"street\":{\"type\":\"string\",\"minLength\":1},\"city\":{\"type\":\"string\",\"minLength\":1},\"state\":{\"type\":\"string\",\"minLength\":2,\"maxLength\":2,\"pattern\":\"^[A-Z]+$\"},\"zipcode\":{\"type\":\"integer\",\"minimum\":10000,\"maximum\":99999}}}",
        "example": {}
      },
      {
        "name": "veterinarian",
        "namespace": "veterinarian",
        "definition": "{\"required\":[\"name\"],\"properties\":{\"name\":{\"type\":\"string\",\"minLength\":1},\"address\":{\"$ref\":\"#/definitions/address\"}}}",
        "example": {}
      },
      {
        "name": "pet",
        "namespace": "pet",
        "definition": "{\"required\":[\"name\",\"type\"],\"properties\":{\"name\":{\"type\":\"string\",\"minLength\":4,\"pattern\":\"^[a-zA-Z0-9- ]+$\"},\"age\":{\"type\":\"integer\"},\"dob\":{\"type\":\"string\",\"format\":\"date\"},\"type\":{\"type\":\"string\",\"enum\":[\"cat\",\"dog\",\"bird\"]},\"address\":{\"$ref\":\"#/definitions/address\"},\"vet\":{\"$ref\":\"#/definitions/veterinarian\"},\"tags\":{\"type\":\"array\",\"uniqueItems\":true,\"items\":{\"type\":\"string\",\"minLength\":1}}}}",
        "example": {}
      }
    ],
    "securitySchemes": {
      "apikey": {
        "queryString": [],
        "headers": []
      },
      "basic": {
        "name": "",
        "value": "",
        "description": ""
      },
      "oauth2": {
        "queryString": [],
        "headers": [
          {
            "name": "Authorization",
            "value": "Bearer"
          }
        ]
      }
    },
    "utilityFunctions": [
      {
        "name": "onlyProcessPath",
        "description": "If your API lives at a subpath, for example, localhost:3000/api, then this function is useful to only learn / log requests that match the given subpath.",
        "script": "function (ctx, request, subpath) {\n  // for example, onlyProcessPath(ctx, request, \"api\") will turn off logging/learning for any\n  // requests that don't have \"api\" in their path.\n  if (request.url.path.get().indexOf(subpath) == -1) {\n     ctx.log.set(false)\n     ctx.learn.set(false)\n  }\n}"
      },
      {
        "name": "validateResponse",
        "description": "Calling this function will validate the response, and add a response header indicating wether or not validation passed. It also adds all the validation errors to the entry messages, which are viewable in an entry tab. Lastly, it extends mocking with useful error messages.",
        "script": "function (ctx, response) {\n  var messages = response.validate(),\n      isValid = true\n      \n  if (messages.length) {\n    isValid = false\n    for (var i in messages) {\n      response.logError(messages[i])\n    }\n    \n    // If mocking is enabled and validation fails, this means \n    // the example mock we've set for this endpoint/status code \n    // does not match the schema.. we don't want developers working \n    // off of an invalid example, so here we ovewrite the response\n    // with the the validation error messages.\n    if (ctx.mock.enabled.get()) {\n      response.body.set(messages)\n    }\n  }\n  \n  response.header.set(\"Validation-Passed\", isValid)\n  ctx.isValid = isValid\n  response.valid.set(isValid)\n}"
      },
      {
        "name": "addRandomLatency",
        "description": "Sleep for a random amount of time. Useful to simulate latency.",
        "script": "function (min, max) {\n  SL.sleep(SL.rand(min, max))\n}"
      },
      {
        "name": "queryStringMocking",
        "description": "This extends the basic mocking functionality, and makes it possible to control mocking behavior via the request query string.",
        "script": "function (ctx, request) {\n  // For example, adding ?mock=200 to a request url will enable mocking,\n  // using the example endpoint response for the 200 status code.\n  var mock = request.url.query.get(\"mock\")\n  if (mock) {\n    ctx.mock.set(true, mock)\n  }\n}"
      },
      {
        "name": "validateRequest",
        "description": "Calling this function will validate the request, and add a request header indicating wether or not validation passed. It also adds all the validation errors to the entry messages, which are viewable in an entry tab.",
        "script": "function (ctx, request) {\n  var messages = request.validate(),\n      isValid = true\n\n  if (messages.length) {\n    isValid = false\n\n    for (var i in messages) {\n      request.logError(messages[i])\n    }\n\n    // Uncomment the line below to respond immediately\n    // with the validation error messages. Useful to let\n    // developers know exactly what is wrong with their API request.\n    //\n    // var response = request.hijack(400, \"application/json\", messages)\n  }\n\n  request.header.set(\"Validation-Passed\", isValid)\n  ctx.isValid = isValid\n  request.valid.set(isValid)\n}"
      }
    ],
    "endpointsOrder": []
  }
}
